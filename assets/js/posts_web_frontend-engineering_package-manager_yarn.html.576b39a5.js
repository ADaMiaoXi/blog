"use strict";(self.webpackChunkmiaoxi_blog=self.webpackChunkmiaoxi_blog||[]).push([[7985],{66262:(i,e)=>{e.A=(i,e)=>{const a=i.__vccOpts||i;for(const[i,s]of e)a[i]=s;return a}},11956:(i,e,a)=>{a.r(e),a.d(e,{comp:()=>l,data:()=>t});var s=a(20641);const n={},l=(0,a(66262).A)(n,[["render",function(i,e){return(0,s.uX)(),(0,s.CE)("div",null,e[0]||(e[0]=[(0,s.Fv)('<p>Yarn 是由 Facebook、Google、Exponent 和 Tilde 联合推出的一个新的 JavaScript 包管理工具，<strong>它仍然使用 NPM 的 registry</strong>，但提供了全新的 CLI 来对包进行管理。</p><p>过去，由于 早期 NPM 存在以下问题，Yarn 的出现极大地抢占了 NPM 的市场份额。</p><ul><li>依赖目录嵌套层次深：早期 NPM 的依赖是嵌套的，这在 Windows 系统上是一个严重问题，由于众所周知的原因，Windows 系统无法支持过深的目录结构。</li><li>下载速度慢： <ul><li>由于嵌套层次的问题，NPM 对包的下载只能是串行的，即前一个包下载完后才会下载下一个包，导致带宽资源没有被充分利用。</li><li>多个相同版本的包会被重复下载。</li></ul></li><li>控制台输出繁杂：早期 NPM 安装包时，每安装一个依赖，就会输出依赖的详细信息，导致一次安装有大量信息输出到控制台，遇到错误时极难排查。</li><li>执行指令困难： 早期 NPM 没有执行依赖包指令的工具，执行指令需要手动执行 <code>bin</code> 目录下的文件，需要写出完整路径。（没有 <code>npx</code>）</li><li>工程移植问题：由于 NPM 的版本依赖可以是模糊的，可能导致工程移植后依赖的确切版本不一致。(没有 package.json 文件)</li></ul><p>针对上述问题，yarn 从诞生之初就已经解决，其采用了以下手段：</p><ul><li>使用扁平的目录结构</li><li>并行下载</li><li>使用本地缓存</li><li>控制台仅输出关键信息</li><li>使用 yarn.lock 文件记录确切依赖</li></ul><p>此外，yarn 还优化了以下内容：</p><ul><li>增加了某些功能强大的命令</li><li>让既有的命令更加语义化</li><li>本地安装的 CLI 工具可以使用 <code>yarn</code> 直接启动</li><li>将全局安装的目录当作一个普通的工程，生成 package.json 文件，便于全局安装移植</li></ul><p>Yarn 的出现给 NPM 带来了巨大的压力。很快，NPM 借鉴了 Yarn 的先进理念，不断对自身进行优化。到了 <code>npm@6</code> 版本，几乎完全解决了上述问题：</p><ul><li>目录扁平化</li><li>并行下载</li><li>本地缓存</li><li>使用 package-lock.json 记录确切依赖</li><li>增加了大量的命令别名</li><li>内置了 <code>npx</code>，可以启动本地的 CLI 工具</li><li>极大简化了控制台输出</li></ul><p><code>npm@6</code> 之后，可以说 NPM 已经和 Yarn 非常接近，甚至没有差距。许多新项目又重新从 Yarn 转回到 NPM。</p><h2 id="yarn-指令" tabindex="-1"><a class="header-anchor" href="#yarn-指令"><span>yarn 指令</span></a></h2><h3 id="初始化项目" tabindex="-1"><a class="header-anchor" href="#初始化项目"><span>初始化项目</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yarn</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> init</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [--yes/-y]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="安装包" tabindex="-1"><a class="header-anchor" href="#安装包"><span>安装包</span></a></h3><h4 id="安装指定包" tabindex="-1"><a class="header-anchor" href="#安装指定包"><span>安装指定包：</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yarn</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [global] add [--dev/-D]  [--exact/-E] &lt;package-name&gt;[@</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">version</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><code>global</code>：安装为全局包</li><li><code>--dev</code> / <code>-D</code>：安装为开发依赖</li><li><code>--exact</code> / <code>-E</code>：安装指定版本<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 不使用 -E 参数，默认可能安装 ^1.2.3 版本范围</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yarn</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> add</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> package-name@1.2.3</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 使用 -E 参数，精确安装 1.2.3 版本</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yarn</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> add</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> package-name@1.2.3</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -E</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><code>@&lt;version&gt;</code>： 指定版本</li></ul><h4 id="安装-package-json-中的依赖" tabindex="-1"><a class="header-anchor" href="#安装-package-json-中的依赖"><span>安装 package.json 中的依赖</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yarn</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [--production/--prod]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><code>--production/--prod</code>：只安装生产环境依赖，当使用 <code>--production</code> 或 <code>--prod</code> 参数时，yarn 只会安装 package.json 中 <code>dependencies</code> 字段列出的依赖，而不会安装 <code>devDependencies</code> 字段中的开发依赖</li></ul>',20)]))}]]),t=JSON.parse('{"path":"/posts/web/frontend-engineering/package-manager/yarn.html","title":"yarn","lang":"zh-CN","frontmatter":{"title":"yarn","icon":"logos:yarn","order":2,"category":["Package manager"],"description":"Yarn 是由 Facebook、Google、Exponent 和 Tilde 联合推出的一个新的 JavaScript 包管理工具，它仍然使用 NPM 的 registry，但提供了全新的 CLI 来对包进行管理。 过去，由于 早期 NPM 存在以下问题，Yarn 的出现极大地抢占了 NPM 的市场份额。 依赖目录嵌套层次深：早期 NPM 的依赖是...","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/blog/posts/web/frontend-engineering/package-manager/yarn.html"}],["meta",{"property":"og:site_name","content":"大喵喜的杂货铺"}],["meta",{"property":"og:title","content":"yarn"}],["meta",{"property":"og:description","content":"Yarn 是由 Facebook、Google、Exponent 和 Tilde 联合推出的一个新的 JavaScript 包管理工具，它仍然使用 NPM 的 registry，但提供了全新的 CLI 来对包进行管理。 过去，由于 早期 NPM 存在以下问题，Yarn 的出现极大地抢占了 NPM 的市场份额。 依赖目录嵌套层次深：早期 NPM 的依赖是..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-08-02T02:30:58.000Z"}],["meta",{"property":"article:modified_time","content":"2025-08-02T02:30:58.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"yarn\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-08-02T02:30:58.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Jianshu.Shi\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"yarn 指令","slug":"yarn-指令","link":"#yarn-指令","children":[{"level":3,"title":"初始化项目","slug":"初始化项目","link":"#初始化项目","children":[]},{"level":3,"title":"安装包","slug":"安装包","link":"#安装包","children":[]}]}],"git":{"createdTime":1753692177000,"updatedTime":1754101858000,"contributors":[{"name":"Jianshu","username":"Jianshu","email":"jianshu.shi@eisgroup.com","commits":2,"url":"https://github.com/Jianshu"}]},"readingTime":{"minutes":2.72,"words":815},"localizedDate":"2025年7月28日","excerpt":"<p>Yarn 是由 Facebook、Google、Exponent 和 Tilde 联合推出的一个新的 JavaScript 包管理工具，<strong>它仍然使用 NPM 的 registry</strong>，但提供了全新的 CLI 来对包进行管理。</p>\\n<p>过去，由于 早期 NPM 存在以下问题，Yarn 的出现极大地抢占了 NPM 的市场份额。</p>\\n<ul>\\n<li>依赖目录嵌套层次深：早期 NPM 的依赖是嵌套的，这在 Windows 系统上是一个严重问题，由于众所周知的原因，Windows 系统无法支持过深的目录结构。</li>\\n<li>下载速度慢：\\n<ul>\\n<li>由于嵌套层次的问题，NPM 对包的下载只能是串行的，即前一个包下载完后才会下载下一个包，导致带宽资源没有被充分利用。</li>\\n<li>多个相同版本的包会被重复下载。</li>\\n</ul>\\n</li>\\n<li>控制台输出繁杂：早期 NPM 安装包时，每安装一个依赖，就会输出依赖的详细信息，导致一次安装有大量信息输出到控制台，遇到错误时极难排查。</li>\\n<li>执行指令困难： 早期 NPM 没有执行依赖包指令的工具，执行指令需要手动执行 <code>bin</code> 目录下的文件，需要写出完整路径。（没有 <code>npx</code>）</li>\\n<li>工程移植问题：由于 NPM 的版本依赖可以是模糊的，可能导致工程移植后依赖的确切版本不一致。(没有 package.json 文件)</li>\\n</ul>","autoDesc":true}')}}]);