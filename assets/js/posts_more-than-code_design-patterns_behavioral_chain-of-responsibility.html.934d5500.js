"use strict";(self.webpackChunkmiaoxi_blog=self.webpackChunkmiaoxi_blog||[]).push([[3379],{66262:(s,i)=>{i.A=(s,i)=>{const a=s.__vccOpts||s;for(const[s,n]of i)a[s]=n;return a}},98029:(s,i,a)=>{a.r(i),a.d(i,{comp:()=>d,data:()=>r});var n=a(20641);const l=a.p+"assets/img/chain-of-responsibility.012b0746.png",t=a.p+"assets/img/problem2-zh.9136e1bb.png",e=a.p+"assets/img/solution2-zh.e9631f58.png",h=a.p+"assets/img/chain-of-responsibility-comic-1-zh.491c563a.png",p=a.p+"assets/img/structure.b00fb2f1.png",k=a.p+"assets/img/example-zh.0c21f46c.png",A={},d=(0,a(66262).A)(A,[["render",function(s,i){const a=(0,n.g2)("RouteLink");return(0,n.uX)(),(0,n.CE)("div",null,[i[22]||(i[22]=(0,n.Fv)('<h2 id="意图" tabindex="-1"><a class="header-anchor" href="#意图"><span>意图</span></a></h2><p>责任链模式是一种行为设计模式， 允许你将请求沿着处理者链进行发送。 收到请求后， 每个处理者均可对请求进行处理， 或将其传递给链上的下个处理者。</p><figure><img src="'+l+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="问题" tabindex="-1"><a class="header-anchor" href="#问题"><span>问题</span></a></h2><p>假如你正在开发一个在线订购系统。 你希望对系统访问进行限制， 只允许认证用户创建订单。 此外， 拥有管理权限的用户也拥有所有订单的完全访问权限。</p><p>简单规划后， 你会意识到这些检查必须依次进行。 只要接收到包含用户凭据的请求， 应用程序就可尝试对进入系统的用户进行认证。 但如果由于用户凭据不正确而导致认证失败， 那就没有必要进行后续检查了。</p><figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAADwCAMAAADraOpEAAABVlBMVEVHcExIMyRNWEpGRkZHR0dHR0dISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhHR0dHR0duXUNgVjtJSUlJSUlJSUlISEhaWlpmZmZxcXGBgYGSkpKenp6srKy4uLjExMTIyMjLy8vOzs7Q0NDBwcGnp6ebm5uJiYl2dnZiYmJMTExYVUN+fn7U1NTv7+/39/f29vbm5ua9vb2NjY1sbGyEhITx8fHz8/OysrJISEjY2NiXl5dpaWnj4+OhoaFFRUXc3Nzg4OBUVFRQUFBeXl5QUFD19fV4eHjr6+t7e3tVVVXp6elhsEVgsERisEZiskZiskZjskdjskZisUZiskZisUZisUVisUZkZGRlZWVmZmZlZWVmZmZlZWVmZmZmZmZlZWVkZGRlZWVmZmbJLDPMLTXMLDTMLTXOLjbOLjbOLzfOLjbNLjbOLjbOLjbOLjbNLjZ0An5qAAAAcnRSTlMAAxsvPVNqgpWwvMTOpIp1W0gNCNv8/+n//////////////////////////xL/////////////////8///////Iv//J/7//////////zosT833/+WYXa1ugkPGaaf1ZLrhgVyJnB48L1Sz9//mi55rzn/ohUMGAAAX5UlEQVR4AezYBWLqShQG4GkCcSE35J+iwV2mimtd9r+eV9rrLhXIO98ajv6MEEIIIYQQQgghhBBCCCGEEEL+l/YkORZXVE3XjQemaVqGbmuOqyQ8+R0j5I/5ckLVkwF+glu6o3gS+z2EyIr9oaT2U+lMNpcPC4VisVQuVyqlapiv1bONZquNJ9xQvQ77KULexW2OB+1Wtx72+uLHDg4rR7XjkzY2LCe2x76PED+uBwD2T/O9gfhNw97oqbrGtved2iJEUjkQpGsT8cf6hWkLAFclRsgXJC0AZrW5+FuTRQsI7CUj5CNfHSPIlMW/KZ0GCLQOI+SJnAQyK/Hv1sdt8DgjZEMJ0CqL5zFpAur309alp6iarZvWhqnbmqp4Zz4jUeUA04F4NrU2bPYlyXN/mLZyw4mfMRI9KtqheE6lc6jso05cS2KjfZFu5PJhtdzbKBfC/OL4Q87KdUVmkUISCKrieZWCQGaPlq4VALhMT8PVUHzP1foo193HA257PosK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" alt="请求必须经过一系列检查后才能由订购系统来处理。" tabindex="0" loading="lazy"><figcaption>请求必须经过一系列检查后才能由订购系统来处理。</figcaption></figure><p>在接下来的几个月里， 你实现了后续的几个检查步骤。</p><ul><li><p>一位同事认为直接将原始数据传递给订购系统存在安全隐患。 因此你新增了额外的验证步骤来清理请求中的数据。</p></li><li><p>过了一段时间， 有人注意到系统无法抵御暴力密码破解方式的攻击。 为了防范这种情况， 你立刻添加了一个检查步骤来过滤来自同一 IP 地址的重复错误请求。</p></li><li><p>又有人提议你可以对包含同样数据的重复请求返回缓存中的结果， 从而提高系统响应速度。 因此， 你新增了一个检查步骤， 确保只有没有满足条件的缓存结果时请求才能通过并被发送给系统。</p></li></ul><figure><img src="'+t+'" alt="代码变得越来越多， 也越来越混乱。" tabindex="0" loading="lazy"><figcaption>代码变得越来越多， 也越来越混乱。</figcaption></figure><p>检查代码本来就已经混乱不堪， 而每次新增功能都会使其更加臃肿。 修改某个检查步骤有时会影响其他的检查步骤。 最糟糕的是， 当你希望复用这些检查步骤来保护其他系统组件时， 你只能复制部分代码， 因为这些组件只需部分而非全部的检查步骤。</p><p>系统会变得让人非常费解， 而且其维护成本也会激增。 你在艰难地和这些代码共处一段时间后， 有一天终于决定对整个系统进行重构。</p><h2 id="解决方案" tabindex="-1"><a class="header-anchor" href="#解决方案"><span>解决方案</span></a></h2><p>与许多其他行为设计模式一样， 责任链会将特定行为转换为被称作处理者的独立对象。 在上述示例中， 每个检查步骤都可被抽取为仅有单个方法的类， 并执行检查操作。 请求及其数据则会被作为参数传递给该方法。</p><p>模式建议你将这些处理者连成一条链。 链上的每个处理者都有一个成员变量来保存对于下一处理者的引用。 除了处理请求外， 处理者还负责沿着链传递请求。 请求会在链上移动， 直至所有处理者都有机会对其进行处理。</p><p>最重要的是： 处理者可以决定不再沿着链传递请求， 这可高效地取消所有后续处理步骤。</p><p>在我们的订购系统示例中， 处理者会在进行请求处理工作后决定是否继续沿着链传递请求。 如果请求中包含正确的数据， 所有处理者都将执行自己的主要行为， 无论该行为是身份验证还是数据缓存。</p><figure><img src="data:image/png;base64,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" alt="处理者依次排列， 组成一条链。" tabindex="0" loading="lazy"><figcaption>处理者依次排列， 组成一条链。</figcaption></figure><p>不过还有一种稍微不同的方式 （也是更经典一种）， 那就是处理者接收到请求后自行决定是否能够对其进行处理。 如果自己能够处理， 处理者就不再继续传递请求。 因此在这种情况下， 每个请求要么最多有一个处理者对其进行处理， 要么没有任何处理者对其进行处理。 在处理图形用户界面元素栈中的事件时， 这种方式非常常见。</p><p>例如， 当用户点击按钮时， 按钮产生的事件将沿着 GUI 元素链进行传递， 最开始是按钮的容器 （如窗体或面板）， 直至应用程序主窗口。 链上第一个能处理该事件的元素会对其进行处理。 此外， 该例还有另一个值得我们关注的地方： 它表明我们总能从对象树中抽取出链来。</p><figure><img src="'+e+'" alt="对象树的枝干可以组成一条链。" tabindex="0" loading="lazy"><figcaption>对象树的枝干可以组成一条链。</figcaption></figure><p>所有处理者类均实现同一接口是关键所在。 每个具体处理者仅关心下一个包含 <code>execute执行</code>方法的处理者。 这样一来， 你就可以在运行时使用不同的处理者来创建链， 而无需将相关代码与处理者的具体类进行耦合。</p><h2 id="真实世界类比" tabindex="-1"><a class="header-anchor" href="#真实世界类比"><span>真实世界类比</span></a></h2><figure><img src="'+h+'" alt="给技术支持打电话时你可能得应对多名接听人员。" tabindex="0" loading="lazy"><figcaption>给技术支持打电话时你可能得应对多名接听人员。</figcaption></figure><p>最近， 你刚为自己的电脑购买并安装了一个新的硬件设备。 身为一名极客， 你显然在电脑上安装了多个操作系统， 所以你会试着启动所有操作系统来确认其是否支持新的硬件设备。 Windows 检测到了该硬件设备并对其进行了自动启用。 但是你喜爱的 Linux 系统并不支持新硬件设备。 抱着最后一点希望， 你决定拨打包装盒上的技术支持电话。</p><p>首先你会听到自动回复器的机器合成语音， 它提供了针对各种问题的九个常用解决方案， 但其中没有一个与你遇到的问题相关。 过了一会儿， 机器人将你转接到人工接听人员处。</p><p>这位接听人员同样无法提供任何具体的解决方案。 他不断地引用手册中冗长的内容， 并不会仔细聆听你的回应。 在第 10 次听到 “你是否关闭计算机后重新启动呢？” 这句话后， 你要求与一位真正的工程师通话。</p><p>最后， 接听人员将你的电话转接给了工程师， 他或许正缩在某幢办公大楼的阴暗地下室中， 坐在他所深爱的服务器机房里， 焦躁不安地期待着同一名真人交流。 工程师告诉了你新硬件设备驱动程序的下载网址， 以及如何在 Linux 系统上进行安装。 问题终于解决了！ 你挂断了电话， 满心欢喜。</p><h2 id="责任链模式结构" tabindex="-1"><a class="header-anchor" href="#责任链模式结构"><span>责任链模式结构</span></a></h2><figure><img src="'+p+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol><li><strong>处理者</strong> （Handler） 声明了所有具体处理者的通用接口。 该接口通常仅包含单个方法用于请求处理， 但有时其还会包含一个设置链上下个处理者的方法。</li><li><strong>基础处理者</strong> （Base Handler） 是一个可选的类， 你可以将所有处理者共用的样本代码放置在其中。<br> 通常情况下， 该类中定义了一个保存对于下个处理者引用的成员变量。 客户端可通过将处理者传递给上个处理者的构造函数或设定方法来创建链。 该类还可以实现默认的处理行为： 确定下个处理者存在后再将请求传递给它。</li><li><strong>具体处理者</strong> （Concrete Handlers） 包含处理请求的实际代码。 每个处理者接收到请求后， 都必须决定是否进行处理， 以及是否沿着链传递请求。<br> 处理者通常是独立且不可变的， 需要通过构造函数一次性地获得所有必要地数据。</li><li><strong>客户端</strong> （Client） 可根据程序逻辑一次性或者动态地生成链。 值得注意的是， 请求可发送给链上的任意一个处理者， 而非必须是第一个处理者。</li></ol><h2 id="伪代码" tabindex="-1"><a class="header-anchor" href="#伪代码"><span>伪代码</span></a></h2><p>在本例中， 责任链模式负责为活动的 GUI 元素显示上下文帮助信息。</p><figure><img src="'+k+'" alt="GUI 类使用组合模式生成。 每个元素都链接到自己的容器元素。 你可随时构建从当前元素开始的、 遍历其所有容器的元素链。" tabindex="0" loading="lazy"><figcaption>GUI 类使用组合模式生成。 每个元素都链接到自己的容器元素。 你可随时构建从当前元素开始的、 遍历其所有容器的元素链。</figcaption></figure><p>应用程序的 GUI　通常为对象树结构。 例如， 负责渲染程序主窗口的 对话框类就是对象树的根节点。 对话框包含 面板 ， 而面板可能包含其他面板， 或是 按钮和 文本框等下层元素。</p><p>只要给一个简单的组件指定帮助文本， 它就可显示简短的上下文提示。 但更复杂的组件可自定义上下文帮助文本的显示方式， 例如显示手册摘录内容或在浏览器中打开一个网页。</p><figure><img src="data:image/png;base64,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" alt="帮助请求如何在 GUI 对象中移动。" tabindex="0" loading="lazy"><figcaption>帮助请求如何在 GUI 对象中移动。</figcaption></figure><p>当用户将鼠标指针移动到某个元素并按下 F1键时， 程序检测到指针下的组件并对其发送帮助请求。 该请求不断向上传递到该元素所有的容器， 直至某个元素能够显示帮助信息。</p><div class="language-py line-numbers-mode" data-highlighter="shiki" data-ext="py" data-title="py" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 处理者接口声明了一个创建处理者链的方法。还声明了一个执行请求的方法。</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">interface ComponentWithContextualHelp </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">is</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    method </span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">showHelp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>\n<span class="line"></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 简单组件的基础类。</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">abstract </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Component implements ComponentWithContextualHelp </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">is</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    field tooltipText: string</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # 组件容器在处理者链中作为“下一个”链接。</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    protected field container: Container</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # 如果组件设定了帮助文字，那它将会显示提示信息。如果组件没有帮助文字</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # 且其容器存在，那它会将调用传递给容器。</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    method </span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">showHelp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">is</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (tooltipText </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> null)</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            # 显示提示信息。</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        else</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            container.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">showHelp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>\n<span class="line"></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 容器可以将简单组件和其他容器作为其子项目。链关系将在这里建立。该类将从</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 其父类处继承 showHelp（显示帮助）的行为。</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">abstract </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Container extends Component </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">is</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    protected field children: array of Component</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    method </span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(child) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">is</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        children.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(child)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        child.container </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> this</span></span>\n<span class="line"></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 原始组件应该能够使用帮助操作的默认实现……</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Button extends Component </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">is</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # ……</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 但复杂组件可能会对默认实现进行重写。如果无法以新的方式来提供帮助文字，</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 那组件总是还能调用基础实现的（参见 Component 类）。</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Panel extends Container </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">is</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    field modalHelpText: string</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    method </span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">showHelp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">is</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (modalHelpText </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> null)</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            # 显示包含帮助文字的模态窗口。</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        else</span></span>\n<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">            super</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">showHelp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># ……同上……</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Dialog extends Container </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">is</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    field wikiPageURL: string</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    method </span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">showHelp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">is</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (wikiPageURL </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> null)</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            # 打开百科帮助页面。</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        else</span></span>\n<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">            super</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">showHelp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>\n<span class="line"></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 客户端代码。</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Application </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">is</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # 每个程序都能以不同方式对链进行配置。</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    method </span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">createUI</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">is</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        dialog </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> new </span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">Dialog</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;预算报告&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        dialog.wikiPageURL </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;http://……&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        panel </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> new </span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">Panel</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">400</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">800</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        panel.modalHelpText </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;本面板用于……&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        ok </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> new </span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">Button</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">250</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">760</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;确认&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        ok.tooltipText </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;这是一个确认按钮……&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        cancel </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> new </span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">Button</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">320</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">760</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;取消&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # ……</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        panel.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(ok)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        panel.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(cancel)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        dialog.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(panel)</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # 想象这里会发生什么。</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    method </span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">onF1KeyPress</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">is</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        component </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> this.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">getComponentAtMouseCoords</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        component.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">showHelp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="责任链模式优缺点" tabindex="-1"><a class="header-anchor" href="#责任链模式优缺点"><span>责任链模式优缺点</span></a></h2><p>√ 你可以控制请求处理的顺序。<br> √ <strong>单一职责原则</strong>。 你可对发起操作和执行操作的类进行解耦。<br> √ <strong>开闭原则</strong>。 你可以在不更改现有代码的情况下在程序中新增处理者。<br> × 部分请求可能未被处理。</p><h2 id="与其他模式的关系" tabindex="-1"><a class="header-anchor" href="#与其他模式的关系"><span>与其他模式的关系</span></a></h2>',42)),(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[(0,n.Lk)("p",null,[i[3]||(i[3]=(0,n.Lk)("strong",null,"责任链模式",-1)),i[4]||(i[4]=(0,n.eW)("、 ")),(0,n.bF)(a,{to:"/posts/more-than-code/design-patterns/behavioral/command.html"},{default:(0,n.k6)((()=>i[0]||(i[0]=[(0,n.Lk)("strong",null,"命令模式",-1)]))),_:1}),i[5]||(i[5]=(0,n.eW)("、 ")),(0,n.bF)(a,{to:"/posts/more-than-code/design-patterns/behavioral/mediator.html"},{default:(0,n.k6)((()=>i[1]||(i[1]=[(0,n.Lk)("strong",null,"中介者模式",-1)]))),_:1}),i[6]||(i[6]=(0,n.eW)("和")),(0,n.bF)(a,{to:"/posts/more-than-code/design-patterns/behavioral/observer.html"},{default:(0,n.k6)((()=>i[2]||(i[2]=[(0,n.Lk)("strong",null,"观察者模式",-1)]))),_:1}),i[7]||(i[7]=(0,n.eW)("用于处理请求发送者和接收者之间的不同连接方式："))]),i[8]||(i[8]=(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[(0,n.Lk)("em",null,"责任链"),(0,n.eW)(" 按照顺序将请求动态传递给一系列的潜在接收者， 直至其中一名接收者对请求进行处理。")]),(0,n.Lk)("li",null,[(0,n.Lk)("em",null,"命令"),(0,n.eW)(" 在发送者和请求者之间建立单向连接。")]),(0,n.Lk)("li",null,[(0,n.Lk)("em",null,"中介者"),(0,n.eW)(" 清除了发送者和请求者之间的直接连接， 强制它们通过一个中介对象进行间接沟通。")]),(0,n.Lk)("li",null,[(0,n.Lk)("em",null,"观察者"),(0,n.eW)(" 允许接收者动态地订阅或取消接收请求。")])],-1))]),(0,n.Lk)("li",null,[(0,n.Lk)("p",null,[i[10]||(i[10]=(0,n.Lk)("strong",null,"责任链",-1)),i[11]||(i[11]=(0,n.eW)("通常和")),(0,n.bF)(a,{to:"/posts/more-than-code/design-patterns/structural/composite.html"},{default:(0,n.k6)((()=>i[9]||(i[9]=[(0,n.Lk)("strong",null,"组合模式",-1)]))),_:1}),i[12]||(i[12]=(0,n.eW)("结合使用。 在这种情况下， 叶组件接收到请求后， 可以将请求沿包含全体父组件的链一直传递至对象树的底部。"))])]),(0,n.Lk)("li",null,[(0,n.Lk)("p",null,[i[14]||(i[14]=(0,n.Lk)("strong",null,"责任链",-1)),i[15]||(i[15]=(0,n.eW)("的管理者可使用")),(0,n.bF)(a,{to:"/posts/more-than-code/design-patterns/behavioral/command.html"},{default:(0,n.k6)((()=>i[13]||(i[13]=[(0,n.Lk)("strong",null,"命令模式",-1)]))),_:1}),i[16]||(i[16]=(0,n.eW)("实现。 在这种情况下， 你可以对由请求代表的同一个上下文对象执行许多不同的操作。"))])])]),i[23]||(i[23]=(0,n.Lk)("p",null,[(0,n.eW)("还有另外一种实现方式， 那就是请求自身就是一个"),(0,n.Lk)("em",null,"命令"),(0,n.eW)("对象。 在这种情况下， 你可以对由一系列不同上下文连接而成的链执行相同的操作。")],-1)),(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[(0,n.Lk)("p",null,[i[18]||(i[18]=(0,n.Lk)("strong",null,"责任链",-1)),i[19]||(i[19]=(0,n.eW)("和")),(0,n.bF)(a,{to:"/posts/more-than-code/design-patterns/structural/decorator.html"},{default:(0,n.k6)((()=>i[17]||(i[17]=[(0,n.Lk)("strong",null,"装饰模式",-1)]))),_:1}),i[20]||(i[20]=(0,n.eW)("的类结构非常相似。 两者都依赖递归组合将需要执行的操作传递给一系列对象。 但是， 两者有几点重要的不同之处。"))])]),i[21]||(i[21]=(0,n.Lk)("li",null,[(0,n.Lk)("p",null,[(0,n.Lk)("strong",null,"责任链"),(0,n.eW)("的管理者可以相互独立地执行一切操作， 还可以随时停止传递请求。 另一方面， 各种 "),(0,n.Lk)("em",null,"装饰"),(0,n.eW)(" 可以在遵循基本接口的情况下扩展对象的行为。 此外， 装饰无法中断请求的传递。")])],-1))])])}]]),r=JSON.parse('{"path":"/posts/more-than-code/design-patterns/behavioral/chain-of-responsibility.html","title":"责任链模式","lang":"zh-CN","frontmatter":{"title":"责任链模式","icon":"/assets/images/more-than-code/design-patterns/behavioral/chain-of-responsibility/chain-of-responsibility-mini.png","order":1,"category":["设计模式"],"description":"意图 责任链模式是一种行为设计模式， 允许你将请求沿着处理者链进行发送。 收到请求后， 每个处理者均可对请求进行处理， 或将其传递给链上的下个处理者。 问题 假如你正在开发一个在线订购系统。 你希望对系统访问进行限制， 只允许认证用户创建订单。 此外， 拥有管理权限的用户也拥有所有订单的完全访问权限。 简单规划后， 你会意识到这些检查必须依次进行。 只...","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/blog/posts/more-than-code/design-patterns/behavioral/chain-of-responsibility.html"}],["meta",{"property":"og:site_name","content":"大喵喜的杂货铺"}],["meta",{"property":"og:title","content":"责任链模式"}],["meta",{"property":"og:description","content":"意图 责任链模式是一种行为设计模式， 允许你将请求沿着处理者链进行发送。 收到请求后， 每个处理者均可对请求进行处理， 或将其传递给链上的下个处理者。 问题 假如你正在开发一个在线订购系统。 你希望对系统访问进行限制， 只允许认证用户创建订单。 此外， 拥有管理权限的用户也拥有所有订单的完全访问权限。 简单规划后， 你会意识到这些检查必须依次进行。 只..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-05-07T09:02:49.000Z"}],["meta",{"property":"article:modified_time","content":"2025-05-07T09:02:49.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"责任链模式\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-05-07T09:02:49.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Jianshu.Shi\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"意图","slug":"意图","link":"#意图","children":[]},{"level":2,"title":"问题","slug":"问题","link":"#问题","children":[]},{"level":2,"title":"解决方案","slug":"解决方案","link":"#解决方案","children":[]},{"level":2,"title":"真实世界类比","slug":"真实世界类比","link":"#真实世界类比","children":[]},{"level":2,"title":"责任链模式结构","slug":"责任链模式结构","link":"#责任链模式结构","children":[]},{"level":2,"title":"伪代码","slug":"伪代码","link":"#伪代码","children":[]},{"level":2,"title":"责任链模式优缺点","slug":"责任链模式优缺点","link":"#责任链模式优缺点","children":[]},{"level":2,"title":"与其他模式的关系","slug":"与其他模式的关系","link":"#与其他模式的关系","children":[]}],"git":{"createdTime":1741180358000,"updatedTime":1746608569000,"contributors":[{"name":"damiaoxi","username":"damiaoxi","email":"miaoxi1110@gmail.com","commits":1,"url":"https://github.com/damiaoxi"},{"name":"Jianshu","username":"Jianshu","email":"jianshu.shi@eisgroup.com","commits":3,"url":"https://github.com/Jianshu"}]},"readingTime":{"minutes":11.43,"words":3428},"localizedDate":"2025年3月5日","excerpt":"<h2>意图</h2>\\n<p>责任链模式是一种行为设计模式， 允许你将请求沿着处理者链进行发送。 收到请求后， 每个处理者均可对请求进行处理， 或将其传递给链上的下个处理者。</p>\\n<figure><figcaption></figcaption></figure>\\n<h2>问题</h2>\\n<p>假如你正在开发一个在线订购系统。 你希望对系统访问进行限制， 只允许认证用户创建订单。 此外， 拥有管理权限的用户也拥有所有订单的完全访问权限。</p>\\n<p>简单规划后， 你会意识到这些检查必须依次进行。 只要接收到包含用户凭据的请求， 应用程序就可尝试对进入系统的用户进行认证。 但如果由于用户凭据不正确而导致认证失败， 那就没有必要进行后续检查了。</p>","autoDesc":true}')}}]);